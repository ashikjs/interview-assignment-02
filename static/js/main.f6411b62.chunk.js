(this["webpackJsonprestaurants-find-on-map"]=this["webpackJsonprestaurants-find-on-map"]||[]).push([[0],{183:function(e,t,a){},184:function(e,t,a){},255:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),i=a(23),c=a.n(i),o=a(43),l=a(287),d=(a(183),a(5)),u=a(167),j=a(284),O=(a(184),a(6));!function(e){e.RESTAURANT_LIST="[RESTAURANT] List",e.SELECTED_RANDOM_RESTAURANT="[RESTAURANT] Random Selected",e.SELECTED_RESTAURANT="[RESTAURANT] Selected"}(n||(n={}));var b=a(8);var h=function(e){var t=Object(o.b)();return Object(b.jsx)("section",{children:Object(b.jsxs)("div",{className:"restaurant-finder",children:[Object(b.jsx)(u.a,{type:"primary",size:"large",onClick:function(){t({type:n.SELECTED_RANDOM_RESTAURANT,payload:""}),e.openRestaurantDetails()},"data-testid":"randomRestaurant",children:"Pick a Random Restaurant"}),Object(b.jsx)("span",{className:"alter-text",children:"Or"}),Object(b.jsx)(j.a,{allowClear:!0,onChange:function(t){e.onSearchRestaurant(t.target.value)},placeholder:"Search by name or category",size:"large"})]})})},p=a(282),v=a(283),g=a(285),x=(a(255),v.a.Paragraph),f=function(e){var t=Object(o.b)(),a=null===e||void 0===e?void 0:e.restaurant,r=a.name,s=a.iconUrl,i=a.address,c=a.category;return Object(b.jsx)(p.b.Item.Meta,{className:"restaurant-item",avatar:Object(b.jsx)(g.a,{src:s,size:80,shape:"square",alt:c}),title:Object(b.jsx)(x,{ellipsis:!0,children:r}),description:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{ellipsis:!0,children:i}),Object(b.jsx)(u.a,{type:"primary",size:"small",onClick:function(){e.openRestaurantDetails(),t({type:n.SELECTED_RESTAURANT,payload:null===e||void 0===e?void 0:e.restaurant})},children:"Details"})]})})};var y,m=function(e){var t;return t=Object(o.c)((function(e){var t;return null===e||void 0===e||null===(t=e.restaurant)||void 0===t?void 0:t.restaurants})),e.skey&&(t=t.filter((function(t){var a,n;return-1!==(null===(a=t.name)||void 0===a?void 0:a.toLowerCase().indexOf(e.skey.toLowerCase()))||-1!==(null===(n=t.category)||void 0===n?void 0:n.toLowerCase().indexOf(e.skey.toLowerCase()))}))),Object(b.jsx)("section",{children:Object(b.jsx)(p.b,{grid:{gutter:30,xs:1,sm:1,md:2,lg:2,xl:3,xxl:3},itemLayout:"vertical",dataSource:t,renderItem:function(t,a){return Object(b.jsx)(p.b.Item,{style:{marginBottom:"30px"},children:Object(b.jsx)(f,{restaurant:t,openRestaurantDetails:e.openRestaurantDetails})},a)}})})};!function(e){e.UPDATE_LOCATION_GEOCODE="[LOCATION] Update Geocode",e.UPDATE_LOCATION_RADIUS="[LOCATION] Update Radius"}(y||(y={}));var A=a(32),R=a.n(A),T=a(50),E=a(161),C=a.n(E),S=a(9),N=function(){function e(t){Object(O.a)(this,e),this.id=void 0,this.name=void 0,this.address=void 0,this.iconUrl=void 0,this.geocode=void 0,this.details=void 0,this.category=void 0,this.contact=void 0,this.popularity=void 0,this.price=void 0,this.rating=void 0,this.distance=void 0,this.id=t.fsq_id,this.name=t.name,this.address=this.generateAddress(t.location),this.geocode=t.geocodes.main,this.iconUrl=t.categories[0]?this.generateCategoryIconUrl(t.categories[0]):"",this.distance=(t.distance/1e3).toFixed(2),this.category=t.categories[0]?t.categories[0].name:null}return Object(S.a)(e,[{key:"generateAddress",value:function(e){var t=e.cross_street?" "+e.cross_street:"",a=e.locality?" "+e.locality:"";return(null===e||void 0===e?void 0:e.address)?null===e||void 0===e?void 0:e.address:e.country+t+a}},{key:"generateCategoryIconUrl",value:function(e){return e.icon.prefix+"120"+e.icon.suffix}}]),e}();function D(){return(D=Object(T.a)(R.a.mark((function e(){var t,a,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://my-json-server.typicode.com/ashikjs/restaurant-find-json-db",a="".concat("https://my-json-server.typicode.com/ashikjs/restaurant-find-json-db","/restaurants"),n={Accept:"application/json"},e.next=5,C.a.get(a,{headers:n});case 5:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",null===(t=r.data)||void 0===t?void 0:t.map((function(e){return new N(e)})));case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=a(286),L=a(288),_=(a(278),a(118));var I=function(e){var t=e.lat,a=e.lng,n=e.zoom,r=e.height,s=void 0===r?"260px":r,i=e.width,c=void 0===i?"100%":i;return Object(b.jsx)(_.b,{googleMapsApiKey:"".concat("AIzaSyCeIOoo4vPL3TbcUJjzyisBk0qRXZYqs5s"),children:Object(b.jsx)(_.a,{mapContainerStyle:{height:s,width:c},center:{lat:t,lng:a},zoom:n,children:Object(b.jsx)(_.c,{position:{lat:t,lng:a}})})})},w=v.a.Title;var k=function(e){var t=Object(o.c)((function(e){return e.restaurant.selectedRestaurant})),a=e.visible,n=e.onClose,r=t.name,s=t.category,i=t.geocode,c=t.address,l=t.popularity,d=t.price,u=t.rating,j=t.iconUrl,O=t.distance,h=t.details;return Object(b.jsxs)(U.a,{className:"restaurant-details-drawer",title:"Restaurant details",placement:"right",width:600,onClose:n,visible:a,style:{padding:0},children:[Object(b.jsx)(I,{lat:i.latitude,lng:i.longitude,zoom:16}),Object(b.jsxs)("div",{className:"restaurant-details",children:[Object(b.jsx)(w,{level:2,children:r}),Object(b.jsx)(w,{level:5,children:c}),!!h&&Object(b.jsx)("p",{children:h}),Object(b.jsxs)(L.b,{size:10,className:"categories",children:[Object(b.jsx)(g.a,{src:j,alt:s}),Object(b.jsx)("span",{children:s})]}),Object(b.jsxs)("ul",{children:[!!O&&Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Distance:"})," ",O,"Km"]}),!!l&&Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Popularity:"})," ",l]}),!!d&&Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Price:"})," ",d]}),!!u&&Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Rating:"})," ",u]})]})]})]})},P={latitude:23.7815271,longitude:90.3982979};var z=function(){var e=Object(o.b)(),t=Object(r.useState)(!1),a=Object(d.a)(t,2),s=a[0],i=a[1],c=Object(r.useState)(!1),l=Object(d.a)(c,2),u=l[0],j=l[1],O=function(){i(!0)};return e({type:y.UPDATE_LOCATION_GEOCODE,payload:P}),e({type:y.UPDATE_LOCATION_RADIUS,payload:300}),function(){return D.apply(this,arguments)}().then((function(t){e({type:n.RESTAURANT_LIST,payload:t})})).catch((function(e){console.info("GetAllRestaurants::",e)})),Object(b.jsxs)("div",{className:"Home wrapper-container",children:[Object(b.jsx)(h,{openRestaurantDetails:O,onSearchRestaurant:function(e){j(e)}}),Object(b.jsx)(m,{openRestaurantDetails:O,skey:u}),s?Object(b.jsx)(k,{visible:s,onClose:function(){i(!1)}}):""]})},M=(a(279),l.a.Header);var F=function(){return Object(b.jsx)(M,{children:Object(b.jsx)("div",{className:"logo",children:Object(b.jsx)("img",{src:"images/logo.png",className:"App-logo",alt:"logo"})})})},G=l.a.Footer;var q=function(){return Object(b.jsx)(G,{style:{textAlign:"center"},children:"\xa9 2021 Today All Rights Reserved"})},B=l.a.Content;var J=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(l.a,{className:"layout",children:[Object(b.jsx)(F,{}),Object(b.jsx)(B,{children:Object(b.jsx)("div",{className:"site-layout-content",children:Object(b.jsx)(z,{})})}),Object(b.jsx)(q,{})]})})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,289)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))},K=a(85),V=a(163),X=a(1),Y={geocode:{latitude:0,longitude:0},radius:0,categories:13e3,sort:"RELEVANCE",limit:50};var Z={restaurants:[],selectedRestaurant:null};var Q=Object(K.b)({location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.UPDATE_LOCATION_GEOCODE:return Object(X.a)(Object(X.a)({},e),{},{geocode:t.payload});case y.UPDATE_LOCATION_RADIUS:return Object(X.a)(Object(X.a)({},e),{},{radius:t.payload});default:return e}},restaurant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.RESTAURANT_LIST:return Object(X.a)(Object(X.a)({},e),{},{restaurants:t.payload});case n.SELECTED_RANDOM_RESTAURANT:var a=Math.floor(Math.random()*e.restaurants.length);return Object(X.a)(Object(X.a)({},e),{},{selectedRestaurant:e.restaurants[a]});case n.SELECTED_RESTAURANT:return Object(X.a)(Object(X.a)({},e),{},{selectedRestaurant:t.payload});default:return e}}}),W=Q,$=function(e){return function(t){return function(a){console.group(a.type),console.info("dispatching",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}};a(280);var ee=function(e){var t=Object(K.a)($,V.a);return Object(K.c)(W,e,t)}();c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(o.a,{store:ee,children:Object(b.jsx)(J,{})})}),document.getElementById("root")),H()}},[[281,1,2]]]);
//# sourceMappingURL=main.f6411b62.chunk.js.map