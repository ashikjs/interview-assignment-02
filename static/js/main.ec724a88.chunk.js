(this["webpackJsonprestaurants-find-on-map"]=this["webpackJsonprestaurants-find-on-map"]||[]).push([[0],{183:function(e,t,n){},184:function(e,t,n){},255:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},280:function(e,t,n){},281:function(e,t,n){"use strict";n.r(t);var a,r=n(0),s=n.n(r),i=n(23),c=n.n(i),o=n(43),l=n(287),d=(n(183),n(5)),u=n(167),j=n(284),O=(n(184),n(6));!function(e){e.RESTAURANT_LIST="[RESTAURANT] List",e.SELECTED_RANDOM_RESTAURANT="[RESTAURANT] Random Selected",e.SELECTED_RESTAURANT="[RESTAURANT] Selected"}(a||(a={}));var b=n(8);var h=function(e){var t=Object(o.b)();return Object(b.jsx)("section",{children:Object(b.jsxs)("div",{className:"restaurant-finder",children:[Object(b.jsx)(u.a,{type:"primary",size:"large",onClick:function(){t({type:a.SELECTED_RANDOM_RESTAURANT,payload:""}),e.openRestaurantDetails()},children:"Pick a Random Restaurant"}),Object(b.jsx)("span",{className:"alter-text",children:"Or"}),Object(b.jsx)(j.a,{allowClear:!0,onChange:function(t){e.onSearchRestaurant(t.target.value)},placeholder:"Search restaurant by name",size:"large"})]})})},p=n(282),v=n(283),g=n(285),x=(n(255),v.a.Paragraph),f=function(e){var t=Object(o.b)(),n=null===e||void 0===e?void 0:e.restaurant,r=n.name,s=n.iconUrl,i=n.address;return Object(b.jsx)(p.b.Item.Meta,{className:"restaurant-item",avatar:Object(b.jsx)(g.a,{src:s,size:80,shape:"square"}),title:Object(b.jsx)(x,{ellipsis:!0,children:r}),description:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,{ellipsis:!0,children:i}),Object(b.jsx)(u.a,{type:"primary",size:"small",onClick:function(){e.openRestaurantDetails(),t({type:a.SELECTED_RESTAURANT,payload:null===e||void 0===e?void 0:e.restaurant})},children:"Details"})]})})};var y,m=function(e){var t;return t=Object(o.c)((function(e){var t;return null===e||void 0===e||null===(t=e.restaurant)||void 0===t?void 0:t.restaurants})),e.skey&&(t=t.filter((function(t){var n,a;return-1!==(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().indexOf(e.skey.toLowerCase()))||-1!==(null===(a=t.category)||void 0===a?void 0:a.toLowerCase().indexOf(e.skey.toLowerCase()))}))),Object(b.jsx)("section",{children:Object(b.jsx)(p.b,{grid:{gutter:30,xs:1,sm:1,md:2,lg:2,xl:3,xxl:3},itemLayout:"vertical",dataSource:t,renderItem:function(t,n){return Object(b.jsx)(p.b.Item,{style:{marginBottom:"30px"},children:Object(b.jsx)(f,{restaurant:t,openRestaurantDetails:e.openRestaurantDetails})},n)}})})};!function(e){e.UPDATE_LOCATION_GEOCODE="[LOCATION] Update Geocode",e.UPDATE_LOCATION_RADIUS="[LOCATION] Update Radius"}(y||(y={}));var A=n(32),R=n.n(A),T=n(50),E=n(161),C=n.n(E),S=n(9),N=function(){function e(t){Object(O.a)(this,e),this.id=void 0,this.name=void 0,this.address=void 0,this.iconUrl=void 0,this.geocode=void 0,this.details=void 0,this.category=void 0,this.contact=void 0,this.popularity=void 0,this.price=void 0,this.rating=void 0,this.distance=void 0,this.id=t.fsq_id,this.name=t.name,this.address=this.generateAddress(t.location),this.geocode=t.geocodes.main,this.iconUrl=t.categories[0]?this.generateCategoryIconUrl(t.categories[0]):"",this.distance=(t.distance/1e3).toFixed(2),this.category=t.categories[0]?t.categories[0].name:null}return Object(S.a)(e,[{key:"generateAddress",value:function(e){var t=e.cross_street?" "+e.cross_street:"",n=e.locality?" "+e.locality:"";return(null===e||void 0===e?void 0:e.address)?null===e||void 0===e?void 0:e.address:e.country+t+n}},{key:"generateCategoryIconUrl",value:function(e){return e.icon.prefix+"120"+e.icon.suffix}}]),e}();function D(){return(D=Object(T.a)(R.a.mark((function e(){var t,n,a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://my-json-server.typicode.com/ashikjs/restaurant-find-json-db",n="".concat("https://my-json-server.typicode.com/ashikjs/restaurant-find-json-db","/restaurants"),a={Accept:"application/json"},e.next=5,C.a.get(n,{headers:a});case 5:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",null===(t=r.data)||void 0===t?void 0:t.map((function(e){return new N(e)})));case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=n(286),L=n(288),_=(n(278),n(118));var I=function(e){var t=e.lat,n=e.lng,a=e.zoom,r=e.height,s=void 0===r?"260px":r,i=e.width,c=void 0===i?"100%":i;return Object(b.jsx)(_.b,{googleMapsApiKey:"".concat("AIzaSyCeIOoo4vPL3TbcUJjzyisBk0qRXZYqs5s"),children:Object(b.jsx)(_.a,{mapContainerStyle:{height:s,width:c},center:{lat:t,lng:n},zoom:a,children:Object(b.jsx)(_.c,{position:{lat:t,lng:n}})})})},w=v.a.Title;var k=function(e){var t=Object(o.c)((function(e){return e.restaurant.selectedRestaurant})),n=e.visible,a=e.onClose,r=t.name,s=t.category,i=t.geocode,c=t.address,l=t.popularity,d=t.price,u=t.rating,j=t.iconUrl,O=t.distance,h=t.details;return Object(b.jsxs)(U.a,{className:"restaurant-details-drawer",title:"Restaurant details",placement:"right",width:600,onClose:a,visible:n,style:{padding:0},children:[Object(b.jsx)(I,{lat:i.latitude,lng:i.longitude,zoom:16}),Object(b.jsxs)("div",{className:"restaurant-details",children:[Object(b.jsx)(w,{level:2,children:r}),Object(b.jsx)(w,{level:5,children:c}),!!h&&Object(b.jsx)("p",{children:h}),Object(b.jsxs)(L.b,{size:10,className:"categories",children:[Object(b.jsx)(g.a,{src:j}),Object(b.jsx)("span",{children:s})]}),Object(b.jsxs)("ul",{children:[!!O&&Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Distance:"})," ",O,"Km"]}),!!l&&Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Popularity:"})," ",l]}),!!d&&Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Price:"})," ",d]}),!!u&&Object(b.jsxs)("li",{children:[Object(b.jsx)("b",{children:"Rating:"})," ",u]})]})]})]})},P={latitude:23.7815271,longitude:90.3982979};var z=function(){var e=Object(o.b)(),t=Object(r.useState)(!1),n=Object(d.a)(t,2),s=n[0],i=n[1],c=Object(r.useState)(!1),l=Object(d.a)(c,2),u=l[0],j=l[1],O=function(){i(!0)};return e({type:y.UPDATE_LOCATION_GEOCODE,payload:P}),e({type:y.UPDATE_LOCATION_RADIUS,payload:300}),function(){return D.apply(this,arguments)}().then((function(t){e({type:a.RESTAURANT_LIST,payload:t})})).catch((function(e){console.info("GetAllRestaurants::",e)})),Object(b.jsxs)("div",{className:"Home wrapper-container",children:[Object(b.jsx)(h,{openRestaurantDetails:O,onSearchRestaurant:function(e){j(e)}}),Object(b.jsx)(m,{openRestaurantDetails:O,skey:u}),s?Object(b.jsx)(k,{visible:s,onClose:function(){i(!1)}}):""]})},M=(n(279),l.a.Header);var F=function(){return Object(b.jsx)(M,{children:Object(b.jsx)("div",{className:"logo",children:Object(b.jsx)("img",{src:"images/logo.png",className:"App-logo",alt:"logo"})})})},G=l.a.Footer;var q=function(){return Object(b.jsx)(G,{style:{textAlign:"center"},children:"\xa9 2021 Today All Rights Reserved"})},B=l.a.Content;var J=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(l.a,{className:"layout",children:[Object(b.jsx)(F,{}),Object(b.jsx)(B,{children:Object(b.jsx)("div",{className:"site-layout-content",children:Object(b.jsx)(z,{})})}),Object(b.jsx)(q,{})]})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,289)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))},K=n(85),V=n(163),X=n(1),Y={geocode:{latitude:0,longitude:0},radius:0,categories:13e3,sort:"RELEVANCE",limit:50};var Z={restaurants:[],selectedRestaurant:null};var Q=Object(K.b)({location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.UPDATE_LOCATION_GEOCODE:return Object(X.a)(Object(X.a)({},e),{},{geocode:t.payload});case y.UPDATE_LOCATION_RADIUS:return Object(X.a)(Object(X.a)({},e),{},{radius:t.payload});default:return e}},restaurant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.RESTAURANT_LIST:return Object(X.a)(Object(X.a)({},e),{},{restaurants:t.payload});case a.SELECTED_RANDOM_RESTAURANT:var n=Math.floor(Math.random()*e.restaurants.length);return Object(X.a)(Object(X.a)({},e),{},{selectedRestaurant:e.restaurants[n]});case a.SELECTED_RESTAURANT:return Object(X.a)(Object(X.a)({},e),{},{selectedRestaurant:t.payload});default:return e}}}),W=Q,$=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var a=t(n);return console.log("next state",e.getState()),console.groupEnd(),a}}};n(280);var ee=function(e){var t=Object(K.a)($,V.a);return Object(K.c)(W,e,t)}();c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(o.a,{store:ee,children:Object(b.jsx)(J,{})})}),document.getElementById("root")),H()}},[[281,1,2]]]);
//# sourceMappingURL=main.ec724a88.chunk.js.map