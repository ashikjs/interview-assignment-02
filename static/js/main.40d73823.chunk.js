(this["webpackJsonprestaurants-find-on-map"]=this["webpackJsonprestaurants-find-on-map"]||[]).push([[0],{184:function(e,t,n){},186:function(e,t,n){},188:function(e,t,n){},278:function(e,t,n){},280:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){"use strict";n.r(t);var a,r=n(0),s=n.n(r),c=n(23),i=n.n(c),o=n(43),l=n(288),d=(n(184),n(5)),u=n(285),j=n(168),b=(n(186),n(6));!function(e){e.RESTAURANT_LIST="[RESTAURANT] List",e.SELECTED_RANDOM_RESTAURANT="[RESTAURANT] Random Selected",e.SELECTED_RESTAURANT="[RESTAURANT] Selected"}(a||(a={}));var O=n(8),h=u.a.Search;var p=function(e){var t=Object(o.b)();return Object(O.jsx)("section",{children:Object(O.jsxs)("div",{className:"restaurant-finder",children:[Object(O.jsx)(j.a,{type:"primary",size:"large",onClick:function(){t({type:a.SELECTED_RANDOM_RESTAURANT,payload:""}),e.openRestaurantDetails()},children:"Pick a Random Restaurant"}),Object(O.jsx)("span",{className:"alter-text",children:"Or"}),Object(O.jsx)(h,{placeholder:"Search restaurant by key word",loading:!1,size:"large"})]})})},v=n(283),g=n(286),x=(n(188),function(e){var t=Object(o.b)(),n=null===e||void 0===e?void 0:e.restaurant,r=n.name,s=n.iconUrl,c=n.address;return Object(O.jsx)(v.b.Item.Meta,{className:"restaurant-item",avatar:Object(O.jsx)(g.a,{src:s,size:80,shape:"square"}),title:Object(O.jsx)("span",{children:r}),description:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{style:{marginBottom:"5px"},children:c}),Object(O.jsx)(j.a,{type:"primary",size:"small",onClick:function(){e.openRestaurantDetails(),t({type:a.SELECTED_RESTAURANT,payload:null===e||void 0===e?void 0:e.restaurant})},children:"Details"})]})})});var f,m=function(e){var t;return t=Object(o.c)((function(e){return e.restaurant.restaurants})),Object(O.jsx)("section",{children:Object(O.jsx)(v.b,{grid:{gutter:30,xs:1,sm:1,md:2,lg:2,xl:3,xxl:3},itemLayout:"vertical",dataSource:t,renderItem:function(t,n){return Object(O.jsx)(v.b.Item,{style:{marginBottom:"30px"},children:Object(O.jsx)(x,{restaurant:t,openRestaurantDetails:e.openRestaurantDetails})},n)}})})};!function(e){e.UPDATE_LOCATION_GEOCODE="[LOCATION] Update Geocode",e.UPDATE_LOCATION_RADIUS="[LOCATION] Update Radius"}(f||(f={}));var y=n(32),A=n.n(y),T=n(52),R=n(160),E=n.n(R),N=n(9),S=function(){function e(t){Object(b.a)(this,e),this.id=void 0,this.name=void 0,this.address=void 0,this.iconUrl=void 0,this.geocode=void 0,this.details=void 0,this.category=void 0,this.contact=void 0,this.popularity=void 0,this.price=void 0,this.rating=void 0,this.distance=void 0,this.id=t.fsq_id,this.name=t.name,this.address=this.generateAddress(t.location),this.geocode=t.geocodes.main,this.iconUrl=t.categories[0]?this.generateCategoryIconUrl(t.categories[0]):"",this.distance=(t.distance/1e3).toFixed(2),this.category=t.categories[0]?t.categories[0].name:null}return Object(N.a)(e,[{key:"generateAddress",value:function(e){var t=e.cross_street?" "+e.cross_street:"",n=e.locality?" "+e.locality:"";return(null===e||void 0===e?void 0:e.address)?null===e||void 0===e?void 0:e.address:e.country+t+n}},{key:"generateCategoryIconUrl",value:function(e){return e.icon.prefix+"120"+e.icon.suffix}}]),e}();function C(){return(C=Object(T.a)(A.a.mark((function e(){var t,n,a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://my-json-server.typicode.com/ashikjs/restaurant-find-json-db",n="".concat("https://my-json-server.typicode.com/ashikjs/restaurant-find-json-db","/restaurants"),a={Accept:"application/json"},e.next=5,E.a.get(n,{headers:a});case 5:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",null===(t=r.data)||void 0===t?void 0:t.map((function(e){return new S(e)})));case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=n(284),U=n(287),_=n(289),I=(n(278),n(119));var L=function(e){var t=e.lat,n=e.lng,a=e.zoom,r=e.height,s=void 0===r?"260px":r,c=e.width,i=void 0===c?"100%":c;return Object(O.jsx)(I.b,{googleMapsApiKey:"".concat("AIzaSyCeIOoo4vPL3TbcUJjzyisBk0qRXZYqs5s"),children:Object(O.jsx)(I.a,{mapContainerStyle:{height:s,width:i},center:{lat:t,lng:n},zoom:a,children:Object(O.jsx)(I.c,{position:{lat:t,lng:n}})})})},k=D.a.Title;var w=function(e){var t=Object(o.c)((function(e){return e.restaurant.selectedRestaurant})),n=e.visible,a=e.onClose,r=t.name,s=t.category,c=t.geocode,i=t.address,l=t.popularity,d=t.price,u=t.rating,j=t.iconUrl,b=t.distance,h=t.details;return Object(O.jsxs)(U.a,{className:"restaurant-details-drawer",title:"Restaurant details",placement:"right",width:600,onClose:a,visible:n,style:{padding:0},children:[Object(O.jsx)(L,{lat:c.latitude,lng:c.longitude,zoom:16}),Object(O.jsxs)("div",{className:"restaurant-details",children:[Object(O.jsx)(k,{level:2,children:r}),Object(O.jsx)(k,{level:5,children:i}),!!h&&Object(O.jsx)("p",{children:h}),Object(O.jsxs)(_.b,{size:10,className:"categories",children:[Object(O.jsx)(g.a,{src:j}),Object(O.jsx)("span",{children:s})]}),Object(O.jsxs)("ul",{children:[!!b&&Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Distance:"})," ",b,"Km"]}),!!l&&Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Popularity:"})," ",l]}),!!d&&Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Price:"})," ",d]}),!!u&&Object(O.jsxs)("li",{children:[Object(O.jsx)("b",{children:"Rating:"})," ",u]})]})]})]})},P={latitude:23.7815271,longitude:90.3982979};var z=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],s=t[1],c=Object(o.b)(),i=function(){s(!0)};return c({type:f.UPDATE_LOCATION_GEOCODE,payload:P}),c({type:f.UPDATE_LOCATION_RADIUS,payload:300}),function(){return C.apply(this,arguments)}().then((function(e){c({type:a.RESTAURANT_LIST,payload:e})})).catch((function(e){console.info("GetAllRestaurants::",e)})),Object(O.jsxs)("div",{className:"Home wrapper-container",children:[Object(O.jsx)(p,{openRestaurantDetails:i}),Object(O.jsx)(m,{openRestaurantDetails:i}),n?Object(O.jsx)(w,{visible:n,onClose:function(){s(!1)}}):""]})},M=(n(280),n(45));var F=function(){return Object(O.jsx)(M.c,{children:Object(O.jsx)("div",{className:"logo",children:Object(O.jsx)("img",{src:"images/logo.png",className:"App-logo",alt:"logo"})})})};var B=function(){return Object(O.jsx)(M.b,{style:{textAlign:"center"},children:"\xa9 2021 Today All Rights Reserved"})},G=l.a.Content;var q=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(l.a,{className:"layout",children:[Object(O.jsx)(F,{}),Object(O.jsx)(G,{children:Object(O.jsx)("div",{className:"site-layout-content",children:Object(O.jsx)(z,{})})}),Object(O.jsx)(B,{})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,290)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},K=n(85),H=n(164),V=n(1),X={geocode:{latitude:0,longitude:0},radius:0,categories:13e3,sort:"RELEVANCE",limit:50};var Y={restaurants:[],selectedRestaurant:null};var Z=Object(K.b)({location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.UPDATE_LOCATION_GEOCODE:return Object(V.a)(Object(V.a)({},e),{},{geocode:t.payload});case f.UPDATE_LOCATION_RADIUS:return Object(V.a)(Object(V.a)({},e),{},{radius:t.payload});default:return e}},restaurant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.RESTAURANT_LIST:return Object(V.a)(Object(V.a)({},e),{},{restaurants:t.payload});case a.SELECTED_RANDOM_RESTAURANT:var n=Math.floor(Math.random()*e.restaurants.length);return Object(V.a)(Object(V.a)({},e),{},{selectedRestaurant:e.restaurants[n]});case a.SELECTED_RESTAURANT:return Object(V.a)(Object(V.a)({},e),{},{selectedRestaurant:t.payload});default:return e}}}),Q=Z,W=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var a=t(n);return console.log("next state",e.getState()),console.groupEnd(),a}}};n(281);var $=function(e){var t=Object(K.a)(W,H.a);return Object(K.c)(Q,e,t)}();i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(o.a,{store:$,children:Object(O.jsx)(q,{})})}),document.getElementById("root")),J()}},[[282,1,2]]]);
//# sourceMappingURL=main.40d73823.chunk.js.map